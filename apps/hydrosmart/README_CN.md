# 💧 HydroSmart — 智能饮水提醒

> 根据运动量、天气、咖啡因摄入动态调整饮水目标，不是简单的"每2小时喝水"。

## 功能列表

### 🎯 智能饮水目标
- 基于体重 × 35ml/kg 计算基础需水量
- 根据活动水平（久坐~非常活跃）动态调整系数 ×1.0~1.6
- 天气 >30°C 自动增加 15%，>25°C 增加 5%
- 每杯咖啡额外补充 150ml

### ⚡ 一键快速记录
- 4种预设量：小杯(150ml)、一杯(250ml)、大杯(500ml)、水瓶(750ml)
- 按钮缩放动画反馈
- Snackbar 即时确认

### 📊 每日进度环形图
- 实时动画展示当日进度百分比
- 达标变绿 + 🎉 庆祝
- 显示当前摄入量 / 目标量

### ☕ 咖啡因追踪
- +/- 按钮记录今日咖啡杯数
- 自动调整饮水目标

### 📈 7天历史记录
- 柱状图展示过去7天饮水量
- 目标线虚线标识
- 达标日期绿色高亮
- 今日记录列表，左滑删除

### 🌓 深色/浅色模式
- 跟随系统 / 手动切换
- 完整配色系统

## 使用流程

1. **首次打开** → 设置体重和活动水平 → 点击「开始使用」
2. **日常使用** → 在主页点击对应杯量按钮记录饮水
3. **查看历史** → 点击右上角📊图标查看7天趋势
4. **喝了咖啡** → 在主页底部咖啡因卡片点击 + 记录
5. **调整设置** → 点击右上角⚙️图标修改体重/活动水平/主题

## 技术栈

| 技术 | 用途 |
|------|------|
| Flutter 3.38 | 跨平台框架 |
| Riverpod | 状态管理 |
| shared_preferences | 本地数据持久化 |
| fl_chart | 柱状图 |
| http | 天气API请求 |
| Open-Meteo API | 免费天气数据 |

## 项目结构

```
lib/
  main.dart                    — 入口
  app/app.dart                 — App配置、路由、主题
  features/
    home/view/home_page.dart   — 主页（进度环+快速记录）
    home/widgets/              — 快速按钮、咖啡因追踪
    settings/view/             — 设置页（体重/活动/主题）
    history/view/              — 历史记录（7天图表+列表）
  shared/
    theme/app_theme.dart       — 设计系统（配色/间距/圆角）
    models/                    — 数据模型
    services/                  — 偏好存储、天气API
    widgets/                   — 通用组件（进度环）
```

## 安装说明

### 直接安装APK
```bash
adb install build/app/outputs/flutter-apk/app-release.apk
```

### 从源码构建
```bash
cd apps/hydrosmart
flutter pub get
flutter build apk --release
# APK: build/app/outputs/flutter-apk/app-release.apk
```

## 设计标准

- ✅ 10秒出价值（打开即见进度环）
- ✅ 3步完成核心操作（打开→点按钮→完成记录）
- ✅ 深色/浅色模式
- ✅ 44×44pt 最小触控区域
- ✅ 动画 150-300ms
- ✅ 离线可用（核心功能不依赖网络）

---

*v1.0.0 — 2026-02-16*
